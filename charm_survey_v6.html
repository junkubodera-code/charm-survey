
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CharmSurvey - çµ„ç¹”ã‚µãƒ¼ãƒ™ã‚¤ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ </title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>* {margin: 0; padding: 0; box-sizing: border-box;} body {font-family: 'Arial', 'Segoe UI', sans-serif; background-color: #f5f5f5; color: #333;} .admin-container {display: flex; height: 100vh;} .sidebar {width: 280px; background-color: #1f4788; color: white; padding: 20px; overflow-y: auto; box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1);} .sidebar h2 {font-size: 18px; margin-bottom: 30px; display: flex; align-items: center; gap: 8px;} .sidebar-section {margin-bottom: 25px;} .sidebar-section-title {font-size: 12px; font-weight: bold; color: #aaa; margin-bottom: 12px; text-transform: uppercase;} .sidebar-item {padding: 10px 15px; margin-bottom: 8px; border-radius: 4px; cursor: pointer; transition: background-color 0.3s;} .sidebar-item:hover {background-color: rgba(255, 255, 255, 0.1);} .sidebar-item.active {background-color: #0056b3;} .sidebar-item.add-btn {background-color: #28a745; text-align: center; font-weight: bold;} .sidebar-item.add-btn:hover {background-color: #218838;} .main-content {flex: 1; overflow-y: auto; padding: 40px; background-color: #fff;} .company-header {margin-bottom: 40px;} .company-header h1 {font-size: 32px; color: #1f4788; margin-bottom: 5px;} .company-header p {color: #666; font-size: 14px;} .dashboard-title {font-size: 28px; color: #1f4788; margin-bottom: 10px;} .response-count {font-size: 14px; color: #999; margin-bottom: 30px;} .tabs {display: flex; border-bottom: 2px solid #ddd; margin-bottom: 30px;} .tab {padding: 12px 20px; cursor: pointer; color: #666; border-bottom: 3px solid transparent; transition: all 0.3s;} .tab.active {color: #1f4788; border-bottom-color: #1f4788;} .tab:hover {color: #1f4788;} .form-group {margin-bottom: 20px;} .form-group label {display: block; font-weight: bold; margin-bottom: 8px; color: #333; font-size: 14px;} .form-group input[type="text"], .form-group input[type="date"], .form-group select, .form-group textarea {width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px; font-family: inherit;} .form-group textarea {resize: vertical; min-height: 80px;} .form-group input:focus, .form-group select:focus, .form-group textarea:focus {outline: none; border-color: #1f4788; box-shadow: 0 0 5px rgba(31, 71, 136, 0.3);} .rating-group {display: flex; gap: 10px; margin-top: 8px;} .rating-option {flex: 1; text-align: center; padding: 10px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer; transition: all 0.3s; font-size: 12px;} .rating-option:hover {border-color: #1f4788; background-color: #f0f5ff;} .rating-option input {display: none;} .rating-option input:checked + label {color: #1f4788; font-weight: bold;} .btn {padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; transition: all 0.3s;} .btn-primary {background-color: #1f4788; color: white;} .btn-primary:hover {background-color: #0056b3;} .btn-secondary {background-color: #6c757d; color: white; margin-left: 10px;} .btn-secondary:hover {background-color: #5a6268;} .question-block {background: white; padding: 20px; border-radius: 4px; margin-bottom: 20px; border-left: 4px solid #1f4788;} .question-number {font-weight: bold; color: #1f4788; margin-bottom: 10px;} .qr-container {text-align: center; margin-top: 20px;} #qrcode {display: inline-block; border: 1px solid #ddd; padding: 10px; border-radius: 4px;} table {width: 100%; border-collapse: collapse; margin-top: 20px;} table thead {background-color: #1f4788; color: white;} table th, table td {padding: 12px; text-align: left; border-bottom: 1px solid #ddd;} table tr:hover {background-color: #f5f5f5;} .link-section {background: #f0f5ff; padding: 15px; border-radius: 4px; margin-bottom: 20px;} .link-section h4 {color: #1f4788; margin-bottom: 10px;} .link-input {display: flex; gap: 10px; margin-bottom: 10px;} .link-input input {flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 4px;} .link-input button {padding: 10px 15px; background-color: #1f4788; color: white; border: none; border-radius: 4px; cursor: pointer;} .link-input button:hover {background-color: #0056b3;} .hidden {display: none;}</style>
</head>
<body>
<div class="admin-container">
<div class="sidebar">
<h2>ğŸ¯ CharmSurvey</h2>
<div class="sidebar-section">
<div class="sidebar-section-title">è¨­å®š</div>
<input type="text" id="domainInput" placeholder="https://example.com" style="width: 100%; padding: 8px; margin-bottom: 10px; border: 1px solid #555; border-radius: 4px; color: black;">
<button id="saveDomainBtn" style="width: 100%; padding: 10px; background-color: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: bold;">ä¿å­˜</button>
</div>
<div class="sidebar-section">
<div class="sidebar-section-title">ä¼æ¥­ç®¡ç†</div>
<button id="addCompanyBtn" class="sidebar-item" style="background-color: #28a745; text-align: center; font-weight: bold;">+ æ–°è¦ä¼æ¥­è¿½åŠ </button>
</div>
<div id="companyList"></div>
</div>
<div class="main-content">
<div class="company-header">
<h1 id="companyName">ã‚µãƒ³ãƒ—ãƒ«æ ªå¼ä¼šç¤¾</h1>
<p id="companyEmail">kubodera@blue-sapiens.com</p>
</div>
<div class="dashboard-title">ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</div>
<div class="response-count"><span id="responseCount">0</span>åã®å›ç­”è€…</div>
<div class="tabs">
<div class="tab active" data-tab="respondents">å›ç­”è€…ç®¡ç†</div>
<div class="tab" data-tab="questions">è³ªå•ç®¡ç†</div>
<div class="tab" data-tab="report">ãƒ¬ãƒãƒ¼ãƒˆ</div>
</div>
<div id="respondents-tab" class="tab-content">
<div class="link-section">
<h4>ğŸ”— å›ç­”è€…å°‚ç”¨ãƒªãƒ³ã‚¯</h4>
<p style="margin-bottom: 10px; color: #666; font-size: 13px;">ã“ã®ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é€ä»˜ã—ã¦ãã ã•ã„ã€‚</p>
<div class="link-input">
<input type="text" id="surveyLink" readonly>
<button onclick="copySurveyLink()">ã‚³ãƒ”ãƒ¼</button>
<button onclick="previewSurvey()">ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</button>
</div>
<div class="qr-container"><div id="qrcode"></div></div>
</div>
<h3 style="color: #1f4788; margin-top: 30px; margin-bottom: 15px;">å›ç­”è€…ä¸€è¦§</h3>
<table><thead><tr><th>å›ç­”è€…å</th><th>éƒ¨ç½²</th><th>å½¹è·</th><th>å…¥ç¤¾æ—¥</th><th>å›ç­”çŠ¶æ³</th></tr></thead><tbody id="respondentsList"></tbody></table>
</div>
<div id="questions-tab" class="tab-content hidden">
<h3 style="color: #1f4788; margin-bottom: 15px;">ã‚µãƒ¼ãƒ™ã‚¤è³ªå•</h3>
<div id="questionsList"></div>
</div>
</div>
</div>
<div id="surveyMode" class="hidden">
<div style="max-width: 800px; margin: 0 auto; padding: 40px 20px;">
<h2 id="surveyTitle" style="color: #1f4788; margin-bottom: 5px;">çµ„ç¹”ã‚µãƒ¼ãƒ™ã‚¤</h2>
<form id="surveyForm">
<div id="personalInfoSection">
<div class="form-group"><label>åå‰</label><input type="text" id="respondentName" required></div>
<div class="form-group"><label>å…¥ç¤¾å¹´æœˆæ—¥</label><input type="date" id="joinDate" required></div>
<div class="form-group"><label>éƒ¨ç½²</label><input type="text" id="department" placeholder="ä¾‹ï¼šå–¶æ¥­éƒ¨ã€ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°éƒ¨" required></div>
<div class="form-group"><label>å½¹è·</label><input type="text" id="position" placeholder="ä¾‹ï¼šå–¶æ¥­éƒ¨é•·" required></div>
<button type="button" id="startSurveyBtn" class="btn btn-primary" style="width: 100%; margin-top: 20px;">å›ç­”ã‚’é–‹å§‹ã™ã‚‹</button>
</div>
<div id="questionsSection" class="hidden"></div>
<button type="submit" id="submitBtn" class="btn btn-primary" style="width: 100%; display: none; margin-top: 20px;">å›ç­”ã‚’é€ä¿¡ã™ã‚‹</button>
</form>
</div>
</div>
<script>
const surveyQuestions=[{id:1,title:"å½“ç¤¾ã®ã‚µãƒ¼ãƒ“ã‚¹ï¼äº‹æ¥­ã‚’ä¸€è¨€ã§è¡¨ã™ã¨ï¼Ÿ",textQuestion:"è¨˜è¿°ï¼š20ã€œ30æ–‡å­—",textPlaceholder:"",textMaxLength:100,ratingQuestion:"ä¸Šè¨˜ã®å›ç­”ã¯ã©ã‚Œãã‚‰ã„è‡ªä¿¡ã‚’æŒã£ã¦è¨€ãˆã¾ã™ã‹ï¼Ÿ",ratingOptions:["â‘ å…¨ãè¨€ãˆãªã„","â‘¡ã‚ã¾ã‚Šè¨€ãˆãªã„","â‘¢ã‚ã‚‹ç¨‹åº¦è¨€ãˆã‚‹","â‘£ã‹ãªã‚Šè¨€ãˆã‚‹","â‘¤æ˜ç¢ºã«è¨€ãˆã‚‹"]},{id:2,title:"å½“ç¤¾ã®ã‚µãƒ¼ãƒ“ã‚¹ã«ã¤ã„ã¦ã€ä»–ç¤¾ã§ã¯ãªãå½“ç¤¾ãŒé¸ã°ã‚Œã‚‹ç†ç”±ã‚’èª¬æ˜ã§ãã¾ã™ã‹ï¼Ÿ",textQuestion:"è¨˜è¿°ï¼š300æ–‡å­—ä»¥å†…",textPlaceholder:"",textMaxLength:300,ratingQuestion:"ä¸Šè¨˜ã®å›ç­”ã¯ã©ã‚Œãã‚‰ã„è‡ªä¿¡ã‚’æŒã£ã¦è¨€ãˆã¾ã™ã‹ï¼Ÿ",ratingOptions:["â‘ å…¨ãèª¬æ˜ã§ããªã„","â‘¡ã‚ã¾ã‚Šèª¬æ˜ã§ããªã„","â‘¢ã‚ã‚‹ç¨‹åº¦èª¬æ˜ã§ãã‚‹","â‘£ã‹ãªã‚Šèª¬æ˜ã§ãã‚‹","â‘¤å¼·ãè‡ªä¿¡ã‚’æŒã£ã¦èª¬æ˜ã§ãã‚‹"]},{id:3,title:"ç¤¾å†…ã§å½“ç¤¾ã‚µãƒ¼ãƒ“ã‚¹ã®é­…åŠ›ã‚’èªã‚‹éš›ã€ä½¿ã‚ã‚Œã¦ã„ã‚‹è¨€è‘‰ã‚„è¡¨ç¾ã¯ã©ã®ç¨‹åº¦å…±é€šã—ã¦ã„ã‚‹ã¨æ„Ÿã˜ã¾ã™ã‹ï¼Ÿ",textQuestion:"è¨˜è¿°ï¼š300æ–‡å­—ä»¥å†…ï¼ˆç†ç”±ï¼‰",textPlaceholder:"",textMaxLength:300,ratingQuestion:"ä¸Šè¨˜ã®å›ç­”ã¯ã©ã‚Œãã‚‰ã„è‡ªä¿¡ã‚’æŒã£ã¦è¨€ãˆã¾ã™ã‹ï¼Ÿ",ratingOptions:["â‘ å…¨ãæƒã£ã¦ã„ãªã„","â‘¡ã‚ã¾ã‚Šæƒã£ã¦ã„ãªã„","â‘¢ã‚ã‚‹ç¨‹åº¦æƒã£ã¦ã„ã‚‹","â‘£ã»ã¼åŒã˜è¨€è‘‰ã§èªã‚‰ã‚Œã¦ã„ã‚‹","â‘¤éå¸¸ã«æƒã£ã¦ã„ã‚‹"]},{id:4,title:"å½“ç¤¾ã‚µãƒ¼ãƒ“ã‚¹ãŒã€é¡§å®¢ã®æ„æ€æ±ºå®šã‚„è¡Œå‹•ã‚’å¤‰ãˆãŸäº‹ä¾‹ã‚’æ€ã„æµ®ã‹ã¹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã‹ï¼Ÿ",textQuestion:"è¨˜è¿°ï¼š300æ–‡å­—ä»¥å†…ï¼ˆå†…å®¹/ç†ç”±ï¼‰",textPlaceholder:"",textMaxLength:300,ratingQuestion:"ä¸Šè¨˜ã®å›ç­”ã¯ã©ã‚Œãã‚‰ã„è‡ªä¿¡ã‚’æŒã£ã¦è¨€ãˆã¾ã™ã‹ï¼Ÿ",ratingOptions:["â‘ å…¨ãæ€ã„æµ®ã‹ã°ãªã„","â‘¡ã‚ã¾ã‚Šæ€ã„æµ®ã‹ã°ãªã„","â‘¢ã‚ã‚‹ç¨‹åº¦æ€ã„æµ®ã‹ã¶","â‘£è¤‡æ•°æ€ã„æµ®ã‹ã¶","â‘¤å…·ä½“äº‹ä¾‹ã‚’ã‚‚ã¨ã«æ˜ç¢ºã«æ€ã„æµ®ã‹ã¶"]},{id:5,title:"å½“ç¤¾ã‚µãƒ¼ãƒ“ã‚¹ã®ã€Œå‘ã„ã¦ã„ãªã„ã‚±ãƒ¼ã‚¹ã€ã‚„ã€Œå¼±ã¿ãƒ»èª²é¡Œã€ã‚’èª¬æ˜ã§ãã¾ã™ã‹ï¼Ÿ",textQuestion:"è¨˜è¿°ï¼š300æ–‡å­—ä»¥å†…",textPlaceholder:"",textMaxLength:300,ratingQuestion:"ä¸Šè¨˜ã®å›ç­”ã¯ã©ã‚Œãã‚‰ã„è‡ªä¿¡ã‚’æŒã£ã¦è¨€ãˆã¾ã™ã‹ï¼Ÿ",ratingOptions:["â‘ å…¨ãèª¬æ˜ã§ããªã„","â‘¡ã‚ã¾ã‚Šèª¬æ˜ã§ããªã„","â‘¢å°‘ã—èª¬æ˜ã§ãã‚‹","â‘£ã‚ã‚‹ç¨‹åº¦èª¬æ˜ã§ãã‚‹","â‘¤æ˜ç¢ºã«èª¬æ˜ã§ãã‚‹"]}];
let baseDomain="https://charm-survey-production.up.railway.app",companies=[],currentCompanyId="sample-corp",isAdminMode=!0,surveyResponses=[],currentQuestionIndex=0;
document.addEventListener("DOMContentLoaded",function(){const e=new URLSearchParams(window.location.search);"survey"===e.get("mode")?enterSurveyMode(e.get("company")):initializeAdmin()});
function initializeAdmin(){isAdminMode=!0,loadDomain(),initializeCompanies(),loadRespondents(),setupEventListeners()}
function setupEventListeners(){document.getElementById("saveDomainBtn").addEventListener("click",saveDomainSetting),document.getElementById("addCompanyBtn").addEventListener("click",addNewCompany),document.querySelectorAll(".tab").forEach(e=>{e.addEventListener("click",function(){switchTab(this.getAttribute("data-tab"))})}),document.getElementById("startSurveyBtn").addEventListener("click",startSurvey),document.getElementById("surveyForm").addEventListener("submit",submitSurvey)}
function loadDomain(){const e=localStorage.getItem("domainSetting");e&&(baseDomain=e),document.getElementById("domainInput").value=baseDomain,generateSurveyLink()}
function saveDomainSetting(){const e=document.getElementById("domainInput").value.trim();e?(baseDomain=e,localStorage.setItem("domainSetting",e),generateSurveyLink(),document.getElementById("domainMessage").textContent="ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®šãŒå®Œäº†ã—ã¾ã—ãŸã€‚QRã‚³ãƒ¼ãƒ‰ãŒç”Ÿæˆã•ã‚Œã¾ã—ãŸã€‚",setTimeout(()=>{document.getElementById("domainMessage").textContent=""},3e3)):alert("ãƒ‰ãƒ¡ã‚¤ãƒ³åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")}
function generateSurveyLink(){const e=`${baseDomain}/?mode=survey&company=${currentCompanyId}`;document.getElementById("surveyLink").value=e,document.getElementById("qrcode").innerHTML="",new QRCode(document.getElementById("qrcode"),{text:e,width:200,height:200})}
function copySurveyLink(){const e=document.getElementById("surveyLink").value;navigator.clipboard.writeText(e).then(()=>{alert("ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ")})}
function previewSurvey(){window.open(document.getElementById("surveyLink").value,"_blank")}
function initializeCompanies(){companies=JSON.parse(localStorage.getItem("companies"))||[{id:"sample-corp",name:"ã‚µãƒ³ãƒ—ãƒ«æ ªå¼ä¼šç¤¾",email:"kubodera@blue-sapiens.com"}],localStorage.setItem("companies",JSON.stringify(companies)),renderCompanyList(),selectCompany("sample-corp")}
function renderCompanyList(){const e=companies.map(e=>`<div class="sidebar-item ${e.id===currentCompanyId?"active":""}" onclick="selectCompany('${e.id}')">${e.name}</div>`).join("");document.getElementById("companyList").innerHTML=e}
function selectCompany(e){currentCompanyId=e;const t=companies.find(e=>e.id===currentCompanyId);t&&(document.getElementById("companyName").textContent=t.name,document.getElementById("companyEmail").textContent=t.email),renderCompanyList(),generateSurveyLink(),loadRespondents()}
function addNewCompany(){const e=prompt("ä¼æ¥­åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");if(e){const t=prompt("ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");t&&(companies.push({id:e.toLowerCase().replace(/\s/g,"-"),name:e,email:t}),localStorage.setItem("companies",JSON.stringify(companies)),initializeCompanies())}}
function loadRespondents(){const e=JSON.parse(localStorage.getItem(`respondents_${currentCompanyId}`))||[],t=document.getElementById("respondentsList");t.innerHTML=e.map(e=>`<tr><td>${e.name}</td><td>${e.department}</td><td>${e.position}</td><td>${e.joinDate}</td><td style="color: #28a745;">å›ç­”æ¸ˆã¿</td></tr>`).join(""),document.getElementById("responseCount").textContent=e.length}
function switchTab(e){document.querySelectorAll(".tab-content").forEach(e=>e.classList.add("hidden")),document.querySelectorAll(".tab").forEach(e=>e.classList.remove("active")),document.getElementById(e+"-tab").classList.remove("hidden"),event.target.classList.add("active"),"questions"===e&&displayQuestions()}
function displayQuestions(){const e=surveyQuestions.map((e,t)=>`<div class="question-block"><div class="question-number">Q${e.id}. ${e.title}</div><div style="font-size: 13px; color: #666;">1. ${e.textQuestion}</div><div style="font-size: 13px; color: #666;">2. 5æ®µéšï¼š${e.ratingOptions.join(" ")}</div></div>`).join("");document.getElementById("questionsList").innerHTML=e}
function enterSurveyMode(e){isAdminMode=!1,currentCompanyId=e||"sample-corp";const t=companies.find(e=>e.id===currentCompanyId)||{name:"ã‚µãƒ³ãƒ—ãƒ«æ ªå¼ä¼šç¤¾"};document.getElementById("surveyMode").classList.remove("hidden"),document.querySelector(".admin-container").classList.add("hidden"),document.getElementById("surveyTitle").textContent="çµ„ç¹”ã‚µãƒ¼ãƒ™ã‚¤",renderSurveyQuestions()}
function renderSurveyQuestions(){const e=document.getElementById("questionsSection"),t=surveyQuestions.map((e,t)=>`<div class="question-block" style="display: ${t===currentQuestionIndex?"block":"none"};" id="question-${t}"><div class="question-number">Q${e.id}. ${e.title}</div><div class="form-group"><label style="color: #666; font-weight: normal; font-size: 13px;">${e.textQuestion}</label><textarea id="text-answer-${t}" placeholder="${e.textPlaceholder}" maxlength="${e.textMaxLength}" required></textarea></div><div class="form-group"><label style="color: #666; font-weight: normal; font-size: 13px;">${e.ratingQuestion}</label><div class="rating-group">${e.ratingOptions.map((e,t)=>`<label class="rating-option"><input type="radio" name="rating-${t}" value="${t+1}" required><span style="font-size: 12px;">${e}</span></label>`).join("")}</div></div><div style="margin-top: 20px; display: flex; gap: 10px;">${t>0?`<button type="button" class="btn btn-secondary" onclick="prevQuestion()">æˆ»ã‚‹</button>`:""}<button type="button" class="btn btn-primary" onclick="nextQuestion()" style="flex: 1;">${t===surveyQuestions.length-1?"å®Œäº†":"æ¬¡ã¸"}</button></div></div>`).join("");e.innerHTML=t,e.classList.remove("hidden"),document.getElementById("personalInfoSection").classList.add("hidden"),document.getElementById("submitBtn").style.display="none"}
function startSurvey(){const e=document.getElementById("respondentName").value.trim(),t=document.getElementById("department").value.trim(),n=document.getElementById("position").value.trim(),r=document.getElementById("joinDate").value;e&&t&&n&&r?(currentQuestionIndex=0,renderSurveyQuestions(),updateProgress()):alert("å…¨ã¦ã®é …ç›®ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")}
function nextQuestion(){currentQuestionIndex<surveyQuestions.length-1?(currentQuestionIndex++,renderSurveyQuestions(),updateProgress()):submitSurvey()}
function prevQuestion(){currentQuestionIndex>0&&(currentQuestionIndex--,renderSurveyQuestions(),updateProgress())}
function updateProgress(){const e=surveyQuestions.length,t=(currentQuestionIndex+1)/e*100;document.getElementById("progressQuestion").textContent=`Q${currentQuestionIndex+1} / ${e}`}
function submitSurvey(){const e={name:document.getElementById("respondentName").value,department:document.getElementById("department").value,position:document.getElementById("position").value,joinDate:document.getElementById("joinDate").value,answers:[]};surveyQuestions.forEach((t,n)=>{e.answers.push({questionId:t.id,text:document.getElementById(`text-answer-${n}`).value,rating:document.querySelector(`input[name="rating-${n}"]:checked`).value})}),JSON.parse(localStorage.getItem(`respondents_${currentCompanyId}`))||[];const t=JSON.parse(localStorage.getItem(`respondents_${currentCompanyId}`))||[];t.push(e),localStorage.setItem(`respondents_${currentCompanyId}`,JSON.stringify(t)),document.getElementById("surveyForm").innerHTML=`<div style="text-align: center; padding: 40px;"><h2 style="color: #28a745; margin-bottom: 20px;">âœ“ ã”å›ç­”ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸ</h2><p style="color: #666; font-size: 16px;">ã‚ãªãŸã®ã”æ„è¦‹ã¯å¤§åˆ‡ã«ä¿ç®¡ã•ã‚Œã¾ã—ãŸã€‚</p></div>`}
function copySurveyLink(){navigator.clipboard.writeText(document.getElementById("surveyLink").value)}
</script>
</body>
</html>
